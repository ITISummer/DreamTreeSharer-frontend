(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"068d":function(t,e,i){t.exports=i.p+"img/11.d5e66c61.jpg"},"06d4":function(t,e,i){t.exports=i.p+"img/6.b4389003.jpg"},"0a06":function(t,e,i){t.exports=i.p+"img/14.aaa8f4e2.jpg"},"10a9":function(t,e,i){},"11d9":function(t,e,i){t.exports=i.p+"img/3.6f9f3953.jpg"},"15ea":function(t,e,i){t.exports=i.p+"img/8.3527cecf.jpg"},2184:function(t,e,i){t.exports=i("ca9a")},"22a4":function(t,e,i){"use strict";var n=i("890e"),a=i.n(n);a.a},"32a5":function(t,e,i){t.exports=i.p+"img/7.e0ab44d7.jpg"},"405a":function(t,e,i){t.exports=i.p+"img/2.e1f56b07.jpg"},"431a":function(t,e,i){t.exports=i.p+"img/15.2d2bb21e.jpg"},"4d0f":function(t,e,i){t.exports=i.p+"img/5.c05c8cd0.jpg"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("MyExample")],1)},r=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-container"},[i("div",{staticClass:"main-content"},[i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],attrs:{"infinite-scroll-disabled":"disabled"}},[i("Waterfall",{ref:"waterfall",attrs:{list:t.list,gutter:10,width:240,breakpoints:{1200:{rowPerView:4},800:{rowPerView:3},500:{rowPerView:2}},animationEffect:t.effect,animationDuration:t.duration+"s",animationDelay:t.delay+"s",backgroundColor:"rgb(73, 74, 95)"},scopedSlots:t._u([{key:"item",fn:function(e){return[i("div",{staticClass:"card"},[i("div",{staticClass:"cover",style:t.initCardStyle(e),on:{click:function(i){return t.handleClick(e.data)}}},[i("img",{attrs:{src:e.data.src,alt:""},on:{load:t.$refs.waterfall.refresh}})]),i("div",{staticClass:"name"},[i("p",[t._v("height:"+t._s(Math.floor(e.data.itemWidth/e.data.width*e.data.height)+"px"))])]),i("div",{staticClass:"menus"},[i("p",{attrs:{"data-title":"编辑"},on:{click:function(i){return t.handleEdit(e.data)}}}),i("p",{attrs:{"data-title":"删除"},on:{click:function(i){return t.handleDelete(e.data)}}})])])]}}])})],1),t.loading?i("p",[t._v("加载中...")]):t._e(),t.noMore?i("p",[t._v("没有更多了")]):t._e()]),i("div",{staticClass:"slide-menu",style:{flex:"0 0 "+t.slideWidth+"px",width:t.slideWidth+"px"}},[i("div",{staticClass:"operations",style:{width:t.slideWidth+"px"}},[i("div",{staticClass:"item"},[i("p",{staticClass:"title"},[t._v("进入效果")]),i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.effect,callback:function(e){t.effect=e},expression:"effect"}},t._l(t.effectOptions,(function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),i("div",{staticClass:"item"},[i("p",{staticClass:"title"},[t._v("动画时间")]),i("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}})],1),i("div",{staticClass:"item"},[i("p",{staticClass:"title"},[t._v("延迟时间")]),i("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.delay,callback:function(e){t.delay=e},expression:"delay"}})],1),i("div",{staticClass:"item"},[i("p",{staticClass:"title"},[t._v("设置初始高度颜色")]),i("el-switch",{on:{change:t.changeState},model:{value:t.isSetInitStyle,callback:function(e){t.isSetInitStyle=e},expression:"isSetInitStyle"}})],1),i("div",{staticClass:"item"},[200===t.slideWidth?i("el-button",{staticStyle:{width:"100%"},on:{click:function(e){return t.shrinkWrapper(400)}}},[t._v("缩小窗口")]):i("el-button",{staticStyle:{width:"100%"},on:{click:function(e){return t.shrinkWrapper(200)}}},[t._v("恢复窗口")])],1),i("div",{staticClass:"github"},[i("a",{staticClass:"Header-link",attrs:{href:"https://github.com/heikaimu/vue-waterfall-plugin","data-hotkey":"g d","aria-label":"Homepage ","data-ga-click":"Header, go to dashboard, icon:logo"}},[i("svg",{attrs:{height:"32",viewBox:"0 0 16 16",version:"1.1",width:"32","aria-hidden":"true"}},[i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"}})])])])])])])},o=[],c=(i("d81d"),i("d3b7"),i("2909")),l=(i("96cf"),i("1da1")),u=i("5530"),d=i("2184"),f=i.n(d),h={name:"App",components:{Waterfall:f.a},data:function(){return{images:[{src:i("8554"),width:400,height:400},{src:i("405a"),width:500,height:701},{src:i("11d9"),width:500,height:673},{src:i("bafb"),width:600,height:845},{src:i("4d0f"),width:600,height:799},{src:i("06d4"),width:597,height:593},{src:i("32a5"),width:650,height:912},{src:i("15ea"),width:500,height:1411},{src:i("6d96"),width:620,height:835},{src:i("efcc"),width:658,height:940},{src:i("068d"),width:658,height:658},{src:i("e834"),width:658,height:688},{src:i("c246"),width:658,height:862},{src:i("0a06"),width:658,height:877},{src:i("431a"),width:468,height:662}],colors:["#409EFF","#67C23A","#E6A23C","#F56C6C","#909399"],list:[],loading:!1,effect:"fadeIn",duration:1,delay:.3,isSetInitStyle:!0,effectOptions:[{label:"fadeIn",value:"fadeIn"},{label:"fadeInUp",value:"fadeInUp"},{label:"fadeInDown",value:"fadeInDown"},{label:"zoomIn",value:"zoomIn"}],isOpen:!1,slideWidth:200,boxWidth:"auto"}},computed:{noMore:function(){return this.list.length>=200},disabled:function(){return this.loading||this.noMore}},mounted:function(){var t=this;this.isSetInitStyle=!!window.localStorage.getItem("isSetInitStyle")&&JSON.parse(window.localStorage.getItem("isSetInitStyle")),this.list=this.images.map((function(e,i){return Object(u["a"])(Object(u["a"])({},e),{},{blankColor:t.colors[i%t.colors.length]})}))},methods:{load:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.addNewList();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},addNewList:function(){var t=this;return new Promise((function(e){var i,n=t.images.map((function(e,i){return Object(u["a"])(Object(u["a"])({},e),{},{blankColor:t.colors[i%t.colors.length]})}));(i=t.list).push.apply(i,Object(c["a"])(n)),setTimeout((function(){e()}),3e3)}))},initCardStyle:function(t){if(this.isSetInitStyle)return{width:"".concat(t.data.itemWidth-20,"px"),height:"".concat((t.data.itemWidth-20)/t.data.width*t.data.height,"px"),backgroundColor:t.data.blankColor}},changeState:function(t){window.localStorage.setItem("isSetInitStyle",t),t?this.$message.success("已开启高度设置，请刷新页面查看效果"):this.$message.warning("已关闭高度设置，请刷新页面查看效果")},handleClick:function(t){this.$message.info(JSON.stringify(t))},handleEdit:function(){this.$message.success("编辑")},handleDelete:function(){this.$message.error("删除")},shrinkWrapper:function(t){var e=this;this.slideWidth=t,this.$nextTick((function(){e.$refs.waterfall.refresh()}))}}},p=h,m=(i("22a4"),i("2877")),g=Object(m["a"])(p,s,o,!1,null,null,null),v=g.exports,b={components:{MyExample:v}},w=b,y=(i("5c0b"),Object(m["a"])(w,a,r,!1,null,null,null)),C=y.exports,x=i("8c4f");n["default"].use(x["a"]);var k=[],S=new x["a"]({routes:k}),j=S,W=(i("0fae"),i("5c96")),O=i.n(W);n["default"].use(O.a),n["default"].config.productionTip=!1,new n["default"]({router:j,render:function(t){return t(C)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),a=i.n(n);a.a},"5cd2":function(t,e,i){"use strict";var n=i("10a9"),a=i.n(n);a.a},"6d96":function(t,e,i){t.exports=i.p+"img/9.0cd14133.jpg"},8554:function(t,e,i){t.exports=i.p+"img/1.a604b4d7.jpg"},"890e":function(t,e,i){},"9c0c":function(t,e,i){},bafb:function(t,e,i){t.exports=i.p+"img/4.a4d21f7f.jpg"},c246:function(t,e,i){t.exports=i.p+"img/13.9923ba86.jpg"},ca9a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"grid",staticClass:"waterfull-grid",style:t.containerStyle},t._l(t.list,(function(e,n){return i("div",{key:n,ref:"gridItem",refInFor:!0,staticClass:"waterfull-item",style:{width:t.itemWidth+"px"}},[i("div",{staticClass:"waterfull-item-box"},[t._t("item",null,{data:Object.assign({},e,{itemWidth:t.itemWidth})})],2)])})),0)},a=[];i("4160"),i("c975"),i("d81d"),i("fb6a"),i("a9e3"),i("b64b"),i("159b");function r(t,e){var i=null;return function(){var n=arguments,a=this;clearTimeout(i),i=setTimeout((function(){t.apply(a,n)}),e)}}var s=r;function o(t,e){var i=null;return function(){var n=this,a=arguments;i||(i=setTimeout((function(){t.apply(n,a),i=null}),e))}}var c=o;i("4de4"),i("a15b"),i("4d63"),i("ac1f"),i("25f0"),i("1276");function l(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)}function u(t,e){if(!l(t,e)){var i=t.className.split(/\s+/);i.push(e),t.className=i.join(" ")}}var d=document.createElement("div").style,f=function(){var t={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var e in t)if(void 0!==d[t[e]])return e;return!1}();function h(t){return!1!==f&&("standard"===f?t:f+t.charAt(0).toUpperCase()+t.substr(1))}var p=h("transform"),m={props:{list:{type:Array,default:function(){return[]}},gutter:{type:Number,default:6},width:{type:Number,default:200},breakpoints:{type:Object,default:function(){return{1200:{rowPerView:3},800:{rowPerView:2},500:{rowPerView:1}}}},animationEffect:{type:String,default:"fadeIn"},animationDuration:{type:String,default:"1s"},animationDelay:{type:String,default:".3s"},backgroundColor:{type:String,default:"#fff"}},data:function(){return{containerWidth:-1,itemsPosX:[],itemsPosY:[]}},computed:{itemWidth:function(){if(-1===this.containerWidth)return 0;for(var t=Object.keys(this.breakpoints).map((function(t){return Number(t)})).sort((function(t,e){return t-e})),e=0;e<t.length;e++){var i=t[e];if(0!==this.containerWidth&&this.containerWidth<=i)return Math.floor((this.containerWidth-this.gutter)/this.breakpoints[i].rowPerView-this.gutter)}return this.width},rowCount:function(){return-1===this.containerWidth?0:Math.floor((this.containerWidth-this.gutter)/(this.itemWidth+this.gutter))},shiftX:function(){var t=this.rowCount*(this.itemWidth+this.gutter)+this.gutter;return(this.containerWidth-t)/2},containerHeight:function(){return this.itemsPosY.slice(0).sort((function(t,e){return t-e})).pop()},containerStyle:function(){return{height:"".concat(this.containerHeight,"px"),background:this.backgroundColor}}},watch:{list:{handler:function(t){var e=this;this.containerWidth=this.$refs.grid.clientWidth,this.$nextTick((function(){e.calcPos()}))}}},mounted:function(){window.onresize=s(this.resize,100)},methods:{calcPos:function(){var t=this;this.itemsPosX=[],this.itemsPosY=[];var e=this.$refs.gridItem;if(e){for(var i=0;i<this.rowCount;i++)this.itemsPosX.push(this.shiftX+this.gutter*(i+1)+this.itemWidth*i),this.itemsPosY.push(this.gutter);e.forEach((function(e){var i=t.itemsPosY.slice(0).sort((function(t,e){return t-e})).shift(),n=t.itemsPosY.indexOf(i),a=t.itemsPosX[n],r=i;e.style.visibility="hidden",e.style[p]="translate3d("+a+"px,"+r+"px, 0)",t.itemsPosY[n]+=e.getBoundingClientRect().height+t.gutter;var s=e.firstChild;l(s,"animated")||(s.style["animation-duration"]=t.animationDuration,s.style["-webkit-animation-duration"]=t.animationDuration,s.style["animation-delay"]=t.animationDelay,s.style["-webkit-animation-delay"]=t.animationDelay,s.style.visibility="visible",u(s,"animated"),u(s,t.animationEffect))}))}},resize:function(){var t=this;this.containerWidth=this.$refs.grid.clientWidth,this.$nextTick((function(){t.calcPos()}))},refresh:c((function(){var t=this;this.containerWidth=this.$refs.grid.clientWidth,this.$nextTick((function(){t.calcPos()}))}),300)}},g=m,v=(i("5cd2"),i("2877")),b=Object(v["a"])(g,n,a,!1,null,"f2543552",null);e["default"]=b.exports},e834:function(t,e,i){t.exports=i.p+"img/12.e1985717.jpg"},efcc:function(t,e,i){t.exports=i.p+"img/10.90bcf7bd.jpg"}});
//# sourceMappingURL=app.2ecc74bd.js.map